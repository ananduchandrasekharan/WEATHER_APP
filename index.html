<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FORECAST </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/8abd45fa7d.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="https://www.esa.int/var/esa/storage/images/esa_multimedia/images/2022/03/the_sun_in_high_resolution/24010613-1-eng-GB/The_Sun_in_high_resolution_pillars.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Foldit&display=swap" rel="stylesheet">
</head>


<body onload="realtimeClock()" >
  <div class="row  container mx-auto " style="margin-top: 22px; ">

    <div class="col-lg-6 col-md-12 col-sm-12  inp mx-auto  ">
        <img src="sun-removebg-preview.png" alt="">
      <h2 class="mt-1 ms-2 text-black text-center"  ><span id="changecolor"> Weather FORECAST</span> <i class="fa-sharp fa-solid fa-cloud-sun-rain" style="color: rgba(240, 248, 255, 0.486);"></i></h2>
      <div class="text-center mb-5 ">

       <span> <input type="text" class=" form-control w-50 mx-auto mt-4 " id="placeName" placeholder="Enter your location" style="margin-top: 10px; border: none;"></span>
        <span><button id="enterclick" class="btn btn-success mt-3 " type="button" onclick=" find1()" ><i     class="fa-solid fa-magnifying-glass"></i> Search</button></span>



          
        
        <button type="button" class="btn btn-dark mt-3 " onclick="getLocation()" style="color: rgb(255, 255, 255)"><i class="fa-solid fa-location-dot"></i> Your Location</button>
      </div>
    </div>
    <div class=" col-lg-6 col-md-12 col-sm-12  mx-auto " style="height: 550px; ">

      <div class="mt-5 mx-auto mt-5 text-center  " 
        style="color: aliceblue; background-color: rgba(0, 0, 0, 0.769); border-radius: 15px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); width: 73%; margin-top: 50px;">
        <div id="dateshow"></div> 
        <div id="clock"></div>
        
        <div id="result1">

        </div>

       
      </div>
    </div>

  </div>
  





    

<script>

// result1.innerHTML= bleep1.play();

    //   function stopaudio() {
    //     var a = new Audio();
    //   a.src = 'click.mp3';
		// 	a.pause();
		// 	a.currentTime = 0;
		// }

    // onmousedown="bleep.play()




















const date = new Date();

  let day = date.getDate();
  let month = date.getMonth() + 1;
  let year = date.getFullYear();
  
  // This arrangement can be altered based on how we want the date's format to appear.
  // console.log(currentDate);
  
  if(month == 1){
    month1="January" }

     else if(month == 2){
    month1="February" }
  
    
    else if(month == 3){
    month1="March" }
  
     else if(month == 4){
    month1="April" }
  
     else if(month == 5){
    month1="May" }

    else if(month == 6){
    month1="June" }
   
     else if(month == 7){
    month1="July" }
   
    else if(month == 8){
    month1=   "August" }
   
    else if(month == 9){
    month1=   "September" }
 
    else if(month == 10){
    month1=   "October" }
    
    else if(month == 11){
    month1=   "November" }
 
    else{
      month1="December"
    }
  
    let currentDate = `${day}-${month1}-${year}`;

  document.getElementById('dateshow').innerHTML = `${currentDate}`;






















































var wage = document.getElementById("placeName");
wage.addEventListener("keydown", function (e) {
    if (e.code === "Enter") {  //checks whether the pressed key is "Enter"
        find1();
    }
});





function realtimeClock() {
    
    var rtClock = new Date();
 
    var hours = rtClock.getHours();
    var minutes = rtClock.getMinutes();
    var seconds = rtClock.getSeconds();

    var amPm = ( hours < 12 ) ? "AM" : "PM";

    hours = (hours > 12) ? hours - 12 : hours;

    hours = ("0" + hours).slice(-2);
    minutes = ("0" + minutes).slice(-2);
    seconds = ("0" + seconds).slice(-2);

    document.getElementById('clock').innerHTML = 
        hours + "  :  " + minutes + "  :  " + seconds + " " + amPm +"  (IST)";
    var t = setTimeout(realtimeClock, 500);

    if (amPm=="AM" && hours>=5 && hours<8){
      document.body.style.backgroundImage="url(https://gifdb.com/images/high/4k-morning-mist-m02gfs76t88wba8q.gif)";
    }
   else if (amPm=="AM" && hours>=8 && hours<12){
      document.body.style.backgroundImage="url(https://68.media.tumblr.com/91da6444e8521943c01c32eb9f32cd5a/tumblr_oro56nIzK61s8mouyo1_1280.gif)";
    }
    else if(amPm=="PM" && hours>=1 && hours<4){
      document.body.style.backgroundImage="url(https://media.tenor.com/gznLWsJjaMAAAAAC/daytime-miving.gif)"


    }
    else if(amPm=="PM" && hours<7){
      document.body.style.backgroundImage="url(https://thumbs.gfycat.com/OpulentUnhappyAfricanaugurbuzzard-size_restricted.gif)"

    }
    else{
                // document.getElementById("changecolor").style.
      document.body.style.backgroundImage="url(https://media.tenor.com/7SyjVdzFqmMAAAAC/stars-night.gif)"
    
    }
}










 var x = document.getElementById("demo");
    // var y =document.getElementById("okk");
    var z = document.getElementsByTagName("whole")
// --------------------------------------------------------------------------------------------
function find1(){
            
            let name = placeName.value;
   fetch(`https://api.openweathermap.org/data/2.5/weather?q=${name}&appid=889101ba49fde1a16a8673273f51aec4`)
   
   .then(res=>res.json())
   .then(data=>showdata(data))  } 
   
   function displaydata(ai){
       
       temper = Math.floor (ai.main.temp-273.15)
      humid = ai.main.humidity
      desc = ai.weather.description
         htmldata=`
       
    <div>
   ${temper} <span>&#176;</span> C
   ${humid}

   </div>`
         result1.innerHTML=htmldata
   }
   
//    ------------------------------------------------------------------------------------------------
function getLocation() {

    // let name = cname.value;
//    fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude }&lon=${position.coords.longitude}&appid=889101ba49fde1a16a8673273f51aec4`)
   
//    .then(res=>res.json())
//    .then(position=>showPosition(position))  

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    result1.innerHTML = "Geolocation is not supported by this browser.";
  }
}

// -----------------------------------------------------------------------------------
function showPosition(position) {
//   x.innerHTML = "Latitude: " + position.coords.latitude + 
//   "<br>Longitude: " + position.coords.longitude;

  let lat = position.coords.latitude;
let lon = position.coords.longitude;

console.log(lat);
console.log(lon);
fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=889101ba49fde1a16a8673273f51aec4`)


 .then(res=>res.json())
.then(data=>showdata(data)) } 

// ----------------------------------------------------------------------------------
function showdata(a){
   
   temper = Math.floor (a.main.temp-273.15)
   icon=a.weather[0].icon
   place= a.name
//    placeName.value=`your location: ${place}`;
   document.getElementById('placeName').placeholder=` location:  ${place}`;
   mintemp=Math.floor(a.main.temp_min-273.15)
   desc = a.weather[0].description
// -----------------------------------------AUDIO--------------------
   
if(desc=="broken clouds"){

var bleep1 = new Audio();
      bleep1.src = 'broken clouds.mp3';
      bleep1.play();

}
else if(desc=="clear sky"){
  var bleep2 = new Audio();
      bleep2.src = 'clear sky.mp3';
      bleep2.play();
 
}

else if(desc=="drizzle"){
  var bleep3 = new Audio();
      bleep3.src = 'drizzle.mp3';
      bleep3.play();
 
}


else if(desc== "few clouds"){
  var bleep4 = new Audio();
      bleep4.src = 'few clouds.mp3';
      bleep4.play();
 
}


else if(desc== "haze"){
  var bleep5 = new Audio();
      bleep5.src = 'haze.mp3';
      bleep5.play();
    }

    else if(desc== "heavy intensity rain"){
  var bleep6 = new Audio();
      bleep6.src = 'heavy intensity rain.mp3';
      bleep6.play();
    }
 
    
    else if(desc== "light rain"){
  var bleep6 = new Audio();
      bleep6.src = 'light rain.mp3';
      bleep6.play();
    }
 

    else if(desc== "mist"){
  var bleep6 = new Audio();
      bleep6.src = 'mist.mp3';
      bleep6.play();
    }
 
    else if(desc== "moderate rain"){
  var bleep6 = new Audio();
      bleep6.src = 'moderate rain.mp3';
      bleep6.play();
    } 

    else if(desc== "overcast clouds"){
  var bleep6 = new Audio();
      bleep6.src = 'overcast.mp3';
      bleep6.play();
    }

    else if(desc== "scattered clouds"){
  var bleep6 = new Audio();
      bleep6.src = 'scattered clouds.mp3';
      bleep6.play();
    }
    
else{
  console.log(true);
}




maxtemp=Math.floor(a.main.temp_max-273.15)
humidity = a.main.humidity
wind = a.wind.speed


// if(icon=="50d"){
//     document.body.style.backgroundImage="url(https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8cGVyc29ufGVufDB8fDB8fA%3D%3D&w=1000&q=80)";

// }else if(icon=="04n"){
//     document.body.style.backgroundColor = 'pink'
// }
// else if(icon=="50n"){
//     document.body.style.backgroundColor = 'grey'
// }
// if(icon=="02n"){
//     document.body.style.backgroundImage="url(https://media.tenor.com/MWsV17cvpwMAAAAC/rain-raining.gif)"

// }else if(icon=="03n"){
//     document.body.style.backgroundImage="url(https://media.tenor.com/MWsV17cvpwMAAAAC/rain-raining.gif)"}
// else if(icon=="04d"){
//     document.body.style.backgroundImage="url(https://media.tenor.com/MWsV17cvpwMAAAAC/rain-raining.gif)" }
    
// else if(icon=="10n"){
//     document.body.style.backgroundImage="url(https://media.tenor.com/MWsV17cvpwMAAAAC/rain-raining.gif)";

// }


// else{
//     document.body.style.backgroundImage="url(https://thumbs.gfycat.com/BlondAmusedAsiandamselfly-size_restricted.gif)" 





// var input = document.getElementById(placeName);
// input.addEventListener("keypress", function(event) {
//   if (event.key === "Enter") {
//     event.preventDefault();
//     document.getElementById(enterclick);
//   }
// });

// }
// 1
// 2
// 3
// 4
// 5
// 6
// 7
// 8
// 9
// 10
// 11
// 12
// 13
// 14
// 15
// 16
// 17
// 18
// 19
// 20
// 21
// 22
// 23
// 24
// 25
// 26
// 27
// 28
// 29
// 30
// 31
// 32
// 33
// 34
// 35
// 36
// 37
// 38
// 39
// 40
// 41
// 42
// 43
// 44
// 45
// 46
// 47
// 48
// 49


// overcast clouds
// haze
// clear sky
// broken clouds
// scattered clouds
//drizzle
// heavy intensity rain
// mist"
// moderate rain
// light rain
// few clouds

     htmldata=
`<br><div>
     <img src="https://openweathermap.org/img/w/${icon}.png"> ${desc}
        <h1>${temper} &#176; C</h1>
        <div class="temp-container">
            <div>
                <h5 class="title">Min</h5>
                <h4 class="temp">${mintemp}&#176;</h4>
            </div>
            <div>
                <h5 class="title">Max</h5>
                <h4 class="temp">${maxtemp}&#176;</h4>
            </div>
            <div>
            <h5 class="title">Humidity</h5>
            <h4 class="temp">${humidity}%</h4>
        </div>
        <div>
            <h5 class="title">Wind speed</h5>
            <h4 class="temp">${wind}%</h4>
        </div>
        </div>
        </div>`
       
   
// `<div>
// ${temper} <span>&#176;</span> C
// <img src="https://openweathermap.org/img/w/${icon}.png">
// ${mintemp}
// ${maxtemp}
// ${humidity}
// ${wind}
// </div>`
     result1.innerHTML=htmldata


}
  </script>
</body>
</html>